@using AC.SD.Core.Configuration
@inject DemoConfiguration DemoConfiguration
@using Microsoft.AspNetCore.Components.Authorization
@using System.Security.Claims;
@using AC.SD.Core.Pages
@using AC.SD.Core.Helpers
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager

<Router AppAssembly="@typeof(App).Assembly">
    <Found Context="routeData">
        <AppRouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
    </Found>
    <NotFound>
        @{             
            NavigationManager.NavigateTo(""); 
         }
    </NotFound>
</Router>



@code {
    //private Task<AuthenticationState> authenticationStateTask;

    //protected override async Task OnInitializedAsync()
    //{
    //    authenticationStateTask = AuthenticationStateProvider.GetAuthenticationStateAsync();

    //    var authState = await authenticationStateTask;
    //    if (authState != null && !authState.User.Identity.IsAuthenticated)
    //    {
    //       //NavigationManager.NavigateTo("/Login",true);
    //    }
    //}    

    //private AuthenticationState context => authenticationStateTask?.Result ?? new AuthenticationState(new ClaimsPrincipal(new ClaimsIdentity()));
   
}