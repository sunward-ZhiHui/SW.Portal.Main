@page "/dynamicMainForm"
@page "/dynamicMainForm/{ScreenId}"
@using Application.Queries
@using MediatR
@using global::Core.Entities
@using global::Core.Repositories.Query
@inject IMediator Mediator
@inject ILocalStorageService<ApplicationUser> _localStorageService
@code {
    public ApplicationUser applicationUser { get; private set; }
    [Parameter]
    public string? ScreenId { get; set; }
    protected override async Task OnInitializedAsync()
    {
        applicationUser = await _localStorageService.GetItem<ApplicationUser>("user");
        if (!string.IsNullOrEmpty(ScreenId))
        {
            //ScreenID columnName in DynamicForm Table
            var result = await Mediator.Send(new GetDynamicFormScreenNameCheckValidation(ScreenId));
            if (result != null && result.ID > 0)
            {
                await Mediator.Send(new GetOnDynamicFormSyncTables(result, applicationUser.UserID));
            }
        }
    }
}



