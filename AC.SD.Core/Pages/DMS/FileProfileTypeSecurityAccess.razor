@using Application.Queries;
@using MediatR;
@inject IMediator Mediator
@using global::Core.Entities;
@using global::Core.Entities.Views;
@using global::Core.EntityModels;
@using Microsoft.Extensions.Configuration;
@inject IConfiguration Configuration
@using global::Core.Repositories.Query;
@inject AC.SD.Core.Services.ToastService toastService
@inject ILocalStorageService<ApplicationUser> _localStorageService

@code {
    [Parameter]
    public DocumentsModel _selectedFiles { get; set; }
    public ApplicationUser _applicationUser { get; private set; }
    private List<UserGroup> _userGroupsList { get; set; }
    public List<DocumentRole> _documentRoleList { get; set; }
    public List<ViewLevel> _levelMasterLists { get; set; }
    private List<ViewEmployee>? _usersList;
    protected override async Task OnInitializedAsync()
    {
        _applicationUser = await _localStorageService.GetItem<ApplicationUser>("user");
        _userGroupsList = await Mediator.Send(new GetUserGroups());
        _documentRoleList = await Mediator.Send(new GetDocumentRoles());
        _levelMasterLists = await Mediator.Send(new GetAllLevelMasterQuery());
        _usersList=await Mediator.Send(new GetAllEmployeeListQuery());
    }
}
