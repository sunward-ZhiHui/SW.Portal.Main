@using Application.Commands;
@using Application.Queries;
@using Application.Response;
@using MediatR
@using global::Core.Entities;
@using global::Core.EntityModels;
@inject IMediator Mediator
@using DevExpress.Export
@using global::Core.Repositories.Query;
@inject IJSRuntime jsRuntime;
@inject AC.SD.Core.Services.ToastService toastService
@inject ILocalStorageService<ApplicationUser> _localStorageService
@page "/MyDay"

<div class="">
    <div class="main-container">
        <div class="content-container row">
            <div class="@leftTodoDisplay" style="@styleTreeDisplay overflow-x: hidden;">
                <div class="mini-menu-bar-top">
                    @*<MyDueTodo NotesId="ReloadGrid"></MyDueTodo>*@
                    <MyDayNew></MyDayNew>
                </div>
            </div>
            <div class="@RighttodoDisplay">
                <MyRemainderTodo @ref="RefMyRemainderTodo"></MyRemainderTodo>
            </div>
        </div>
    </div>
</div>
@code {
    private MyRemainderTodo? RefMyRemainderTodo { get; set; }
    public ApplicationUser? applicationUser { get; private set; }
    private List<ToDoNotesHistory>? _ToDoNotesHistory;
    string leftTodoDisplay = "col-md-6";
    string RighttodoDisplay = "col-md-6";
    string styleTreeDisplay = "height: calc(100vh - 190px); padding:10px";
    protected override async Task OnInitializedAsync()
    {
        applicationUser = await _localStorageService.GetItem<ApplicationUser>("user");
    }
    public async void ReloadGrid()
    {
        RefMyRemainderTodo.Reloadtodo();
        // _ToDoNotesHistory = await Mediator.Send(new GetMyToDoRemainderDate(applicationUser.UserID));
    }

}
