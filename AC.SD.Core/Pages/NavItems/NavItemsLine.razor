@page "/NavItemsLine"

<div class="row align-items-end" style="border-top: 1px solid #d5d4d4; margin-top:10px;">
    <div class="cw-480 ch-220" style="margin-top:10px;">
        <DxFormLayout CssClass="w-100">
            <DxFormLayoutTabPages @bind-ActiveTabIndex="@ActiveTabIndex" RenderMode="TabsRenderMode.Default">
                <DxFormLayoutTabPage Caption="Cross Reference">
                    <CrossReference @ref="refCrossRefrence" ItemId="@ItemId"></CrossReference>
                </DxFormLayoutTabPage>
                <DxFormLayoutTabPage Caption="Production Information">
                    <ProductionInformation @ref="refProductionInformation" ItemId="@ItemId"></ProductionInformation>
                </DxFormLayoutTabPage>

            </DxFormLayoutTabPages>
        </DxFormLayout>
    </div>
</div>
@code {
    private CrossReference? refCrossRefrence;
    private ProductionInformation? refProductionInformation;
    int ActiveTabIndex { get; set; } = 0;
    long? ItemId { get; set; }
    protected override async Task OnInitializedAsync()
    {
        await loadData(ItemId);
    }
    public async Task loadData(long? itemId)
    {
        ActiveTabIndex = 0;
        ItemId = itemId;
        if (ItemId > 0)
        {
            await refCrossRefrence.loadData(ItemId);
           
            //await refProductionInformation.loadData(ItemId);
        }
        StateHasChanged();
    }
}